// Generated by LiveScript 1.3.1
(function(){
  var http, router, context, Ove, slice$ = [].slice;
  http = require('http');
  router = require('./router');
  context = require('./context');
  Ove = (function(){
    Ove.displayName = 'Ove';
    var prototype = Ove.prototype, constructor = Ove;
    function Ove(){
      var i$, ref$, len$, name;
      this.server = http.createServer();
      this.router = new router;
      for (i$ = 0, len$ = (ref$ = ['register', 'get', 'post', 'put', 'delete', 'patch']).length; i$ < len$; ++i$) {
        name = ref$[i$];
        this[name] = this.router[name];
      }
    }
    prototype.listen = function(){
      var args, port, host, self;
      args = slice$.call(arguments);
      port = args[0], host = args[1];
      if (!port) {
        port = 8888;
      }
      if (!host) {
        host = '127.0.0.1';
      }
      self = this;
      this.server.on('request', function(req, resp){
        var ctx;
        ctx = new context(req, resp);
        return self.router.route(ctx);
      });
      return this.server.listen(port, host, function(){
        return console.log("Ove app started.\nListening: %s:%d", host, port);
      });
    };
    return Ove;
  }());
  module.exports = Ove;
}).call(this);
